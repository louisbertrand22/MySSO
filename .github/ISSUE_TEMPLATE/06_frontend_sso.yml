name: "√âtape 6 ‚Äì Frontend SSO (Login & Register)"
description: "Impl√©menter l'interface SSO : pages /register et /login, connexion au backend, stockage du JWT."
title: "‚ú® [√âtape 6] Frontend SSO ‚Äî Login / Register"
labels:
  - frontend
  - sso
  - nextjs
  - ui
assignees:
  - github-copilot
  - YOUR_GITHUB_USERNAME
body:
  - type: markdown
    attributes:
      value: |
        ## üéØ Objectif
        Cr√©er une interface Next.js simple et s√©curis√©e pour l'inscription et la connexion des utilisateurs,
        connecter le front au backend SSO et g√©rer le token JWT c√¥t√© client.

  - type: markdown
    attributes:
      value: |
        ## üß© Stack recommand√©e
        - Next.js (app router)
        - TailwindCSS
        - Axios (ou fetch)
        - React Hook Form (+ Zod pour validation optionnelle)

  - type: markdown
    attributes:
      value: |
        ## ‚úÖ T√¢ches (Checklist)
  - type: markdown
    attributes:
      value: |
        - [ ] Cr√©er un projet Next.js (ou dossier `frontend/` dans le repo)
        - [ ] Installer et configurer TailwindCSS
        - [ ] Ajouter `NEXT_PUBLIC_API_URL` dans `.env.local`
        - [ ] Cr√©er la page `/register` avec formulaire d'inscription
        - [ ] Cr√©er la page `/login` avec formulaire de connexion
        - [ ] Impl√©menter le composant r√©utilisable `AuthForm` (inputs, erreurs, validation)
        - [ ] Appeler les endpoints backend (`/auth/register`, `/auth/login`, `/auth/refresh`)
        - [ ] Stocker le `accessToken` (temporarily in memory) et le `refreshToken` (secure storage)
        - [ ] Cr√©er une page `/dashboard` prot√©g√©e qui affiche les infos utilisateur
        - [ ] G√©rer la d√©connexion (supprimer token + appeler `/auth/logout`)
        - [ ] Tests manuels via navigateur / Postman / Insomnia

  - type: input
    id: api_url
    attributes:
      label: URL du backend API
      description: Adresse publique ou locale du backend SSO (ex: http://localhost:3000)
      placeholder: http://localhost:3000

  - type: textarea
    id: implementation_notes
    attributes:
      label: Notes d'impl√©mentation
      description: Conseils et bonnes pratiques √† respecter lors de l'impl√©mentation.
      value: |
        - Pr√©f√®re stocker l'access token en m√©moire (√©viter localStorage pour XSS).
        - Le refresh token peut √™tre stock√© dans un cookie HttpOnly si possible.
        - Valide les champs c√¥t√© client (email, forces du mot de passe).
        - Affiche correctement les erreurs renvoy√©es par le backend (400/401).
        - Commence par une UI non styl√©e puis applique Tailwind pour it√©rer vite.

  - type: markdown
    attributes:
      value: |
        ## üß™ Tests recommand√©s
        1. `POST /auth/register` ‚Üí cr√©e un utilisateur dans la DB (v√©rifier Prisma Studio)
        2. `POST /auth/login` ‚Üí retourne `accessToken` + `refreshToken`
        3. Acc√©der √† `/dashboard` avec le token (autorisation)
        4. `POST /auth/refresh` ‚Üí obtenir un nouveau access token
        5. `POST /auth/logout` ‚Üí supprimer la session / refresh token c√¥t√© serveur

  - type: markdown
    attributes:
      value: |
        ---
        ‚úÖ **√Ä fournir dans l'issue une fois termin√©e :**
        - Lien vers le commit/PR qui ajoute le front
        - Capture d'√©cran des pages `/login` et `/register`
        - R√©sultat des tests (ok / erreurs rencontr√©es)
